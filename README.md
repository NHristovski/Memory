# Memory

## Опис на проблемот:
Апликацијата која што ја изработивме е познатата игра Меморија (Memory). Играта започнува со сите карти завртени, така што не можеме да го видиме бројот и знакот на картата. Потребно е да го пронајдете соодветниот пар на секоја карта и да се собере што поголем збир на парови, а со тоа и повеќе поени.

## Правила и функционалности:
При започнување на играта се појавува почетното мени каде што можете да изберете дали сакате почеток на нова игра, да ги видите највисоките резултати или да ја исклучите играта. <br/>
<br/>
![alt text](https://github.com/NHristovski/Memory/blob/master/Memory/Resources/main%20menu.png)
<br/>
<br/>
Доколку изберете да ги видите највисоките резултати, се отвора нов прозорец. Тука може да се бира дали играчите да бидат подредени по поените, должината на траењето на играта или датумот на кој е одигран натпреварот. <br/>
<br/>
![alt text](https://github.com/NHristovski/Memory/blob/master/Memory/Resources/high.png)
<br/>
<br/>
Доколку, пак, изберете почеток на нова игра, се отвора нов прозорец каде што треба да го внесете вашето име, да одберете тежината на играта и да внесете име на противникот или доколку играте против автоматизиран играч, да го одберете неговото ниво. <br/>
<br/>
![alt text](https://github.com/NHristovski/Memory/blob/master/Memory/Resources/start.png)
<br/>
<br/>
Играта се одвива така што секој учесник игра наизменично. Прво, бирате една карта од понудените, а потоа се обидувате да го најдете нејзиниот соодветен пар. Доколку го погодите, добивате 100 поени и повторно е ваш ред, но доколку промашите на ред е противникот. Играта трае сѐ додека има карти за спарување. Играчот со најмногу поени е победник. <br/>
<br/>
Кога ќе започнете со играта, во зависнст од тоа која тежина сте избрале се отвора еден од следните прозорци: <br/>
- <i>easy</i> <br/>
![alt text](https://github.com/NHristovski/Memory/blob/master/Memory/Resources/easy.png) <br/>
- <i>medium</i> <br/>
![alt text](https://github.com/NHristovski/Memory/blob/master/Memory/Resources/medium.png) <br/>
- <i>hard</i> <br/>
![alt text](https://github.com/NHristovski/Memory/blob/master/Memory/Resources/hard.png) <br/>
Исто така има четири различни опции за помош, кои се наоѓаат од десната страна на прозорецот. Кога ќе кликнете на еден помошник, доколку немате доволно поени или потребно е да биде отворена барем една карта добивате известување со правилата за тој помошник.<br/>
![alt text](https://github.com/NHristovski/Memory/blob/master/Memory/Resources/helpers.png) <br/>

## Имплементација на проблемот:
За имплементација на проблемот искористивме повеќе класи, краток опис на неколку од нив следува подолу:
- <i>Card</i>: класа во која се чува знакот на картата, сликата од картата со бројот и знакот, gif-от кој покажува како се отвора картата, gif-от кој покажува како се затвора картата и дали е погодена картата или не. <br/>
- <i>DockingStation</i>: место за поставување на една карта. <br/>
- <i>Events</i>: код позајмен од stackoverflow (https://stackoverflow.com/questions/40528189/c-sharp-disable-event-for-some-time) за паузирање на обработувачите на настани (event handlers). <br/>
- <i>Game</i>: во оваа класа податоците се серијализирани, тука се чуваат податоците за играчите, времето колку трае играта, помошниците тука исто тука е имплементиран дијалогот за резултатот на крајот на играта. <br/>
- <i>GifImage</i>: класа за работа со картите, односно отворање или затворање на картата. <br/>
- <i>IChosingMoveStrategy</i>: и во оваа класа податоците се серијализирани, тука е симулирана играта на автоматизиранот играч (bot). <br/>
- <i>Player</i>: тука повторно податоците се серијализирани, ги чуваме името на играчот, времето кога почнала играта и неговите поени. <br/>
- <i>PlayerDocumentation</i>: и во оваа класа податоците се серијализирани, тука се чува листа од играчите и можат да се сортираат поените, должината на траењето на играта или датумот на кој е одигран натпреварот. <br/>
- <i>Score</i>: тука повторно податоците се серијализирани, се чува состојбата на тековната игра, се чуваат поените постигнати и времетраењето на играта. <br/>

## Имплементација на ботовите:
Класaта Bot ја наследува класата <i>PairGamePlayer</i>, и функцијата на оваа класа е да ги чува информациите за поените на играчот-бот како и да одбере кои карти да ги преврти кога на ред е играчот-бот. Поените се чуваат во променливата од тип <i>Score</i>, а за одбирањето потег е задолжен методот <i>ChoseMove</i>. <br/>
<br/>
Класта бот содржи член од типот <i>IChosingMoveStrategy</i>, интерфејс кој го содржи методот <i>ChoseMove</i>. Овој медот прима 5 аргументи: <i>List<Tuple<string, string>> unpairedOpenPairs, List<string> openedCards, HashSet<string> validPicutreBoxes, Dictionary<string, Card> cardsDictionary, Random rand,</i> a враќа <i>Tuple<string, string></i> во кои се имињата на двата PictureBox што треба да се отворат.  Во листата <i>unpairedOpenPairs</i> се чуваат сите веќе видени парови ( содржи торки од два стринга кои ги претставуваат имињата на PictureBox-овите каде се наоѓаат паровите ), <i>openedCards</i> е листа од сите досега отворени PictureBox-ови, validPictureBoxes се PictureBox-ови кои се сеуште во игра, <i>cardsDictionary</i> e hash структура која како клуч го има името на PictureBox-от, а како вредност картата што се наоѓа на тој PictureBox. <br/>
<br/>
Овој интерфејс го имплемнтираат 3 конкретни класи <i>EasyBotStrategy, NormalBotStrategy</i> и <i>HardBotStrategy</i>. <br/>
<br/>
Имплементацијата на методот ChoseMove кај EasyBotStrategy e рандом одбирање на два различни PictureBoxes од множестовото validPictureBoxes. <br/>
<br/>
Имплементацијата на ChoseMove кај NormalBotStrategy e рандом одбирање на првата карта, а за втората карта се поминува низ листата на отворени карти, и доколку се пронајде совпаѓање се враќаат двата PictureBox-а кои можат да се спарат. <br/>
<br/>
Имплементацијата на ChoseMove кај HardBotStrategy прво проверува дали во unpairedOpenPairs има елементи, доколку има го враќа првиот елемент  од листата, а ако нема продожува да работи како NormalBotStrategy. <br/>
<br/>
Чувањето на променлива од типот IChosingMoveStrategy во класата Bot, наместо наследување од класата и преоптоварување на методот ChoseMove соодветно во изведените класи, овозможува брзо и ефикасно менување на јачината на ботот во runtime и ова може да се постигне преку кликнување на копчето edit од menu stip-от. <br/>
<br/>
Oстанатите методи на оваа класа се методот <i>isBot()</i> кој враќа true, и методите <i>setEasyGameAvaliable(), setNormalGameAvaliable(), setHardGameAvaliable()</i>, кои се задолжени за одредување на бројот на можни помошници за лесно, средна и тешка игра соодветно, кои го поставуваат бројот на можни помошници на 0 бидејќи ботовите не може да искористуваат помошници. <br/>
 
### Изработиле:
Никола Христовски 161101 <br/>
Дарко Филиповски 161096 <br/>
Симона Циева 161168
